/*!
 * Protomatter.js 0.2.0
 * https://github.com/whastings/protomatter.js
 * (c) 2015 Will Hastings
 * Protomatter.js may be freely distributed under the MIT license.
 */
!function(t){"use strict";function r(t,r){for(;r&&r!==v;)a(r._copyPrivate)&&r._copyPrivate(t,!0),r=Object.getPrototypeOf(r)}function o(t,r,o){var e,n;for(n in t)e=t[n],a(e)&&e!==v[n]&&(r[n]=function(e){return function(){var n,i;return n=this===r||this===y||void 0===this,i=n?o:this,t[e].apply(i,arguments)}}(n))}function e(t){return function(){for(var r=0,o=t.length;o>r;r++)t[r].apply(this,arguments)}}function n(t){return function(r){var o;if(!a(t[r]))throw new Error("Method "+r+" is not defined.");return o=h.call(arguments,1),t[r].apply(this,o)}}function i(t,r){return r=r||{},r.superProto=this,l.create(t,r)}function a(t){return"function"==typeof t}function s(t){var r=typeof t;return"object"===r||"function"===r}function c(t){var r;if(!this.allowMixins)throw new Error(b);if(!s(t))throw new Error(m);r="object"==typeof this.public?this.public:this,p(t,function(t,o){a(t)&&(t=t.bind(this)),r[o]=t}.bind(this))}function u(t,r){if(!s(r))throw new Error(x);p(r,function(r,o){"initialize"!==o&&(t[o]=r)}),a(r._copyPrivate)&&r._copyPrivate(t.private)}function p(t,r){for(var o in t)t.hasOwnProperty(o)&&r(t[o],o)}function f(t,e){var n=Object.create(t);return n.public=t,r(n,e),o(e,t,n),n}var l={},h=Array.prototype.slice,v=Object.prototype,y="undefined"==typeof global?window:global,w="Pass two or more prototypes to compose them.",d="Constructor passed is not a function.",b="This object type does not accept mixins.",m="Mixin passed is not an object",P="Private methods passed must be in an object.",x="Prototype passed is not an object.",g="Given superProto is not an object.";l.create=function(t,r){var o,e,u;if(r=r||{},r.allowMixins=void 0===r.allowMixins?!0:r.allowMixins,u=r.superProto,t=t||{},a(t)&&(t=t()),u){if(!s(u))throw new Error(g);e=Object.create(u),e.callSuper=n(u)}else e={};if(p(t,function(t,r){"private"!==r&&(e[r]=t)}),o=t.private){if(!s(o))throw new Error(P);e._copyPrivate=function(t,r){p(o,function(o,e){t[e]=r?function(){var r=this===y||void 0===this?t:this;return o.apply(r,arguments)}:o})}}return e.create=function(){var t=Object.create(e),o=f(t,e);return o.allowMixins=!!r.allowMixins,a(e.init)&&e.init.apply(o,arguments),t},e.extend=i,e.mixIn=c,e},l.compose=function(){var t,r,o=arguments,n=o.length,i={"private":{}},s=[];if(2>n)throw new Error(w);for(r=0;n>r;r++)t=o[r],u(i,t),a(t.init)&&s.push(t.init);return s.length>0&&(i.init=e(s)),this.create(i)},l.convert=function(t,r){var o;if(r=r||{},!a(t))throw new Error(d);return t.prototype!==v&&(r.superProto=Object.getPrototypeOf(t.prototype)),o=l.create(t.prototype,r),o.init=t,o},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=l),exports.Protomatter=l):t.Protomatter=l}(this);